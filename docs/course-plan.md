# План видеокурса по приложению Nuxt Shop

Цель: записать практический курс по созданию и запуску полнофункционального интернет‑магазина на Nuxt 3 (Frontend) и Laravel 12 (Backend), с деплоем через Docker/Nginx и CI/CD.

## Формат
- 12–14 уроков, 15–25 минут каждый.
- 2 трека: Full‑stack (Nuxt + Laravel) и Frontend‑only (Nuxt с моками/Nitro).
- Каждому уроку соответствуют git‑теги: `lesson-XX-start` и `lesson-XX-end`.

## Пререквизиты (macOS)
- Node LTS (через Volta или fnm), PNPM.
- PHP 8.2+, Composer.
- Docker Desktop.
- MySQL/Redis/Meilisearch (локально или в Docker).

## Подготовка к записи (до уроков)
- Стабильная среда: `.env.sample` для фронта и бэка, зафиксированные версии.
- Демо‑данные: сидеры для продуктов/категорий/медиа; скрипт reset (очистка, миграции, сиды).
- Открытый API‑контракт: описать основу в OpenAPI (опционально, для автогенерации клиента).
- Авто‑скрипты:
  - Backend: `composer install && php artisan migrate --force && php artisan db:seed`.
  - Frontend: `pnpm install && pnpm dev`.
  - Общий: `docker compose up -d` (prod/dev варианты).

## Структура курса и результаты уроков

1) Обзор архитектуры проекта
- Разбираем дерево директорий, слои интеграции: `frontend/nuxt.config.ts` → `runtimeConfig.public.apiBase` → `backend/routes/api.php`.
- Результат: понимание потоков данных, форматов ответов `Resource`.

2) Окружение на macOS и запуск дев‑серверов
- Установка инструментов (brew, volta/fnm, php, composer, docker).
- Команды запуска:
  ```sh
  # backend
  cd backend
  composer install
  php artisan migrate --force
  php artisan db:seed
  php artisan serve
  
  # frontend
  cd ../frontend
  pnpm install
  pnpm dev
  ```
- Результат: оба сервера работают, фронт получает данные с API.

3) Backend: модели, связи, ресурсы (Product/Category)
- Миграции, Nested Set для категорий, Media Library для изображений.
- `ProductResource`/`CategoryResource`: что сериализуем для фронта.
- Результат: корректный JSON, медиа и категории включены.

4) Backend: контроллеры и маршруты API v1
- `routes/api.php`: `/v1/products`, `/v1/categories`, `/v1/categories/{slug}/products`, `/v1/products/{product:slug}`, `/v1/products/{product}/related`.
- Фильтры: поиск, сортировка, цена, наличие; пагинация/limit.
- Результат: консистентные эндпоинты под фронт.

5) Nuxt: конфиг, модули, SSR‑режим
- Модули: `@nuxtjs/tailwindcss`, `@pinia/nuxt`, `@vueuse/nuxt`, `nuxt-icon`.
- `runtimeConfig.public.apiBase = 'http://127.0.0.1:8002/api'`; `ssr: false` (и когда стоит включать SSR).
- Результат: каркас фронта, глобальные мета в `app.vue`.

6) Composable `useApi`
- Базовая функция `apiCall` на `$fetch` с `baseURL`, объединение headers.
- Методы: `getProducts`, `getProduct`, `getCategories`, `getProductsByCategory`, `searchProducts`.
- Результат: единый слой запросов и обработка ошибок.

7) Главная страница
- `useLazyAsyncData` (client‑only), лоадеры/ошибки, популярные категории/товары.
- Результат: живой лэндинг с навигацией.

8) Список товаров: фильтры, поиск, пагинация, grid/list
- Реактивные параметры ↔ `route.query`, дебаунс поиска.
- Результат: UX фильтров, чистые query, пагинация, два режима отображения.

9) Страница категории
- Загрузка категории, SEO‑заголовки, фильтры/сортировка/пагинация.
- Результат: полноценный список в рамках категории, хлебные крошки.

10) Карточка товара: варианты, атрибуты, изображения
- `related` (родитель + варианты), выбор атрибутов, переключение изображений.
- Результат: рабочая карточка с выбором опций.

11) Состояние: корзина (Pinia) и тосты
- `stores/cart.js`: state, getters (`itemsCount`, `totalPrice`), `localStorage` sync.
- `stores/toast.js` + `ToastContainer.vue`: `add/remove/auto‑dismiss`.
- Результат: добавление в корзину с уведомлениями, счётчик в хедере.

12) Админка: Filament
- Ресурсы Product/Category, загрузка медиа, управление вариантами.
- Результат: базовая панель управления данными.

13) Поиск: Scout + Meilisearch/Algolia
- Индексация, запросы, интеграция на фронте (страница товаров).
- Результат: быстрый релевантный поиск.

14) Деплой: Docker/Nginx и GitHub Actions
- `docker-compose.prod.yml`, `nginx.conf`, переменные окружения.
- CI/CD: сборка, миграции, сиды, прогрев кэша.
- Результат: запускаемый прод с автодеплоем.

15) Оптимизация: SSR/Hybrid, SEO, перформанс (опционально)
- Где включить SSR (детальные, категории), пререндер, code‑splitting, оптимизация изображений.
- Результат: улучшенные метрики и индексация.

## Артефакты каждого урока
- Git‑теги `lesson-XX-start`/`lesson-XX-end`.
- Сниппеты кода (копипаст): изменённые файлы и блоки.
- Домашнее задание: мини‑задачи (расширить фильтр, добавить тост, включить SSR на странице товара).
- Чек‑лист работоспособности (что должно быть видно в UI и в Network).

## Продакшн‑процесс записи
- На урок создаём рабочее дерево: `git worktree add ./lesson-XX lesson-XX-start`.
- Запись → коммиты → тег `lesson-XX-end`.
- Артефакты: таймкоды, список команд, проверка.

## Альтернативный трек: Frontend‑only
- API заменяем на Nitro server routes или мок‑сервер (MSW).
- Уроки 1–11 остаются, 12–14 заменяем на Supabase/Netlify деплой.

## Публикация и таймлайн
- Подготовка материалов: 1–2 недели.
- Запись: 2–3 недели.
- Монтаж/релиз: 1 неделя.
- Итого: 4–6 недель.

## Следующие шаги
- После завершения разработки: финализировать API‑контракт, подготовить сидеры, зафиксировать версии, разметить теги `lesson-01-start`.
- Согласовать длительности и приоритеты (возможно объединить уроки 12–13).